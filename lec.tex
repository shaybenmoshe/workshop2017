\documentclass{article}
\usepackage{fontspec}
\usepackage{amsmath, amsthm, amssymb}
\usepackage{amsthm}
\usepackage[top=2cm,bottom=2cm,left=2.5cm,right=2cm]{geometry}
%\usepackage[papersize={11.4cm,8.5cm},top=0.3cm,bottom=0.3cm,left=0.3cm,right=0.3cm]{geometry}

\usepackage{polyglossia}
\setdefaultlanguage{english}

\setlength{\parindent}{0em}
\setlength{\parskip}{0.6em}

\newtheorem*{theorem*}{Theorem}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{claim*}{Claim}

\theoremstyle{definition}
\newtheorem*{definition*}{Definition}

\theoremstyle{remark}
\newtheorem*{remark*}{Remark}
\newtheorem*{example*}{Example}

\newcommand{\ncmd}{\newcommand}

\ncmd{\mbb}[1]{\mathbb{#1}}
\ncmd{\mrm}[1]{\mathrm{#1}}
\ncmd{\dd}[1]{\mrm{d}#1}

%\ncmd{\todo}[1]{}
\ncmd{\todo}[1]{\textbf{TODO #1}}

\title{The Algebraic Properties of Formal Group Laws}
\author{Shay Ben Moshe}
\date{20/06/2017}

\begin{document}
	\maketitle
	
	(All rings are commutative with unit.)
	
	\begin{definition*}
		Let $R$ be a ring.
		A (commutative one-dimensional) \emph{formal group law} over $R$ is an element $F\left(x,y\right) \in R\left[\left[x\right]\right]$, such that:
		\begin{enumerate}
			\item $F\left(x,0\right) = x = F\left(0,x\right)$
			\item $F\left(x,y\right)=F\left(y,x\right)$ (commutativity) \todo{Do we need commutative?}
			\item $F\left(F\left(x,y\right),z\right)=F\left(x,F\left(y,x\right)\right)$ (associativity)
		\end{enumerate}
	\end{definition*}

	\begin{example*}
		The additive formal group law, $F_a\left(x,y\right) = x+y$.
	\end{example*}

	\begin{example*}
		The multiplicative formal group law, $F_m\left(x,y\right) = x+y+uxy$ for some unit $u\in R$, and specifically $F_m\left(x,y\right) = x+y+xy$.
	\end{example*}

	\begin{lemma*}
		$p\left(x\right) \in R\left[\left[x\right]\right]$ is (multiplicatively) invertible if and only if $p\left(0\right) \in R$ is invertible.
	\end{lemma*}
	\begin{proof}
		Let $p\left(x\right) = \sum a_n x^n$, and assume $q\left(x\right) = \sum b_n x^n \in R\left[\left[x\right]\right]$ is an inverse to $p$, i.e. $pq = 1$. 
		By comparing coefficients it follows that $a_0 b_0 = 1$ (so the first part follows), and $\sum_{k=0}^n a_k b_{n-k} = 0$.
		If $a_0$ is invertible then we can find a suitable $q$, by defining $b_0 = a_0^{-1}$, and $b_n = - a_0^{-1} \left(\sum_{k=1}^n a_k b_{n-k}\right)$ (so the second part follows).
	\end{proof}

	\begin{definition*}
		An \emph{homomorphism} from $F$ to $G$, two formal group laws over $R$, is a $f \in R\left[\left[x\right]\right]$, such that:
		\begin{enumerate}
			\item $f\left(0\right) = 0$
			\item $f\left(F\left(x,y\right)\right) = G\left(f\left(x\right),f\left(y\right)\right)$
		\end{enumerate}
	\end{definition*}

	\begin{claim*}
		$f: F \to G$ is (compositionally) invertible (i.e. an isomorphism) if and only if $f'\left(0\right)$.
	\end{claim*}
	
	\begin{proof}
		It is easy to see the first implication.
		If $f'\left(0\right) = 0$, we can show explicitly that there exists a unique $g$ such that $g\left(f\left(x\right)\right) = x$, and $g'\left(0\right) = \left(f'\left(0\right)\right)^{-1}$. From the very same claim, it follows that there exists an $h$ such that $h\left(g\left(x\right)\right) = x$, it follows that $h\left(x\right) = h\left(g\left(f\left(x\right)\right)\right) = f\left(x\right)$.
	\end{proof}

	\begin{definition*}
		$f: F \to G$ is a \emph{strict isomorphism} if $f'\left(0\right)=1$.
	\end{definition*}

	\begin{example*}
		The multiplicative formal group law is strictly isomorphic to the additive formal group law,
		by $f\left(x\right) = u^{-1} \log \left(1+ux\right) = \sum_{k=1}^{\infty} \frac{\left(-u\right)^{k-1} x^k}{k}$:
		\begin{align*}
			f\left(F_m\left(x,y\right)\right)
			&= u^{-1} \log \left(1+u F_m\left(x,y\right)\right)\\
			&= u^{-1} \log \left(1+ux+uy+u^2 xy\right)\\
			&= u^{-1} \log \left(1+ux\right)\left(1+uy\right)\\
			&= u^{-1} \log \left(1+ux\right) + \log \left(1+uy\right)\\
			&= F_a\left(f\left(x\right), f\left(y\right)\right)
		\end{align*}
		(Note that we don't need the $u^{-1}$ to get an isomorphism, but we do need it to get a strict isomorphism.)
	\end{example*}

	\begin{definition*}
		A strict isomorphism from $F$ to $F_a$ is called a \emph{logarithm}.
	\end{definition*}

	\begin{theorem*}
		A formal group law over a $\mbb{Q}$-algebra has a logarithm.
	\end{theorem*}

	\begin{proof}
		Let $F$ be such a formal group law, and denote $F_2 = \frac{\partial F}{\partial y}$.
		Since $F\left(x,y\right) = x+y+\cdots$, we know that $F_2\left(0,0\right) = 1$, thus it is (multiplicatively) invertible.
		Since each $0 \neq n \in \mathbb{Z}$ is invertible, we can define the following:
		$$ f\left(x\right) = \int_0^x \frac{\dd{t}}{F_2\left(t,0\right)} $$
		We claim that it is a logarithm.
		We already know that $f'\left(0\right) = F_2\left(0,0\right) = 1$.
		We need to prove that
		$f\left(F\left(x,y\right)\right) = F_a\left(f\left(x\right),f\left(y\right)\right)$,
		or equivalently, that
		$w\left(x,y\right) = f\left(F\left(x,y\right)\right) - f\left(x\right) - f\left(y\right)$ vanishes.
		Denote the coefficients by $w\left(x,y\right) = \sum c_{ij} x^i y^j$.
		First, note that
		$
			w\left(x,0\right)
			= f\left(F\left(x,0\right)\right) - f\left(x\right) - f\left(0\right)
			= f\left(x\right) - f\left(x\right) - 0
			= 0
		$
		and it follows that $c_{i0} = 0$.
		If we prove that
		\begin{align*}
			0
			&= \frac{\partial w}{\partial y}\\
			&= f'\left(F\left(x,y\right)\right) F_2\left(x,y\right) - f'\left(y\right)\\
			&= \frac{1}{F_2\left(F\left(x,y\right),0\right)} F_2\left(x,y\right) - \frac{1}{F_2\left(y,0\right)}
		\end{align*}
		it follows that $j c_{ij} = 0$, and since each $0 \neq j \in \mathbb{Z}$ is invertible, $c_{ij} = 0, j > 0$, which finishes the proof.
		Indeed, by associativity,
		$F\left(F\left(x,y\right),z\right)=F\left(x,F\left(y,z\right)\right)$, differentiating w.r.t $z$ at $z=0$ we get,
		$
			F_2\left(F\left(x,y\right),0\right)
			= F_2\left(x,y\right) F_2\left(y,0\right)
		$
		and the result follows.
	\end{proof}

	\begin{remark*}
		The above theorem is not true over arbitrary rings.
		
		To see this, we define a notion, that will lead us to the concept of height.
		Let $F$ be a formal group law over a ring $R$. We define $\left[n\right]_F \left(X\right) \in R\left[\left[X\right]\right]$ by recursion:
		$$
			\left[0\right]_F \left(X\right) = 0
			\qquad
			\left[n+1\right]_F \left(X\right) = F\left(X, \left[n\right]_F \left(X\right)\right)
		$$
		Clearly, for $f: F \to G$ we get
		$
			f\left(\left[n\right]_F \left(X\right)\right)
			=
			\left[n\right]_G \left(f\left(X\right)\right)
		$.
		
		For $F_a$ we have $\left[n\right]_{F_a} \left(X\right) = nX$,
		and by induction for $F_m$ we have $\left[n\right]_{F_a} \left(X\right) = \left(1+X\right)^n - 1$.
		Consider them over a field of characteristic $p$, and assume that $f: F_m \to F_a$ is an homomorphism then
		$$
			0
			=
			\left[p\right]_{F_a} \left(f\left(X\right)\right)
			=
			f\left(\left[p\right]_{F_m} \left(X\right)\right)
			=
			f\left(\left(1+X\right)^p-1\right)
			=
			f\left(X^p\right)
		$$
		which means that $f$ is not invertible, thus $F_m$ and $F_a$ are not isomorphic.
	\end{remark*}

\end{document}